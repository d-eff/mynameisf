<!DOCTYPE html>
<html>
  <head>
    <title>walkthrough test</title>
    <link rel="stylesheet" type="text/css" href="test.css">
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,200' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div class="bodyWrap">
      Ignore the styling. I started to try to emulate MGS text boxes, but then I remembered I had a hangover.<br><br>
      Press left or right or click the arrows to progress. The idea is these boxes would pop up near whatever they were describing. We could change the background image to match each box, or just have one image that covers the whole process.<br><br>
      This was my first thought when you mentioned the idea. Let me know if this is anywhere near what you're thinking.<br>
      <br>      <button id="lock">We could also make them stationary</button>
    </div>
      <div class="questBox" id="box1">
        <h1>Step 1</h1>
        <p>
        BASE jump lights neon voodoo god physical hotdog nodality Legba sunglasses paranoid shanty town neon youtube. DIY singularity plastic hacker nodal point Chiba systema carbon network refrigerator knife otaku San Francisco.
        </p>
        <p class="arrowBox"><a href="#" class="backward"><--</a><a href="#" class="forward">--></a></p>
      </div>
      <div class="questBox" id="box2">
        <h1>Step 2</h1>
        <p>
         cyber- range-rover tanto vehicle refrigerator fluidity man receding j-pop papier-mache shrine digital uplink. paranoid tiger-team euro-pop tanto rain otaku refrigerator neon youtube realism beef noodles tattoo BASE jump.<br>
        </p>
        <p class="arrowBox"><a href="#" class="backward"><--</a><a href="#" class="forward">--></a></p>
      </div>
      <div class="questBox" id="box3">
        <h1>Step 3</h1>
        <p>
        DIY singularity plastic hacker nodal point Chiba systema carbon network refrigerator knife otaku San Francisco. 
        </p>
        <p class="arrowBox"><a href="#" class="backward"><--</a><a href="#" class="forward">--></a></p>
      </div>
      <div class="questBox" id="box4">
        <h1>Step 4</h1>
        <p>
        DIY singularity plastic hacker nodal point Chiba systema carbon network refrigerator knife otaku San Francisco. 
        </p>
        <p class="arrowBox"><a href="#" class="backward"><--</a><a href="#" class="forward">--></a></p>
      </div>
      <div class="questBox" id="box5">
        <h1>Step 5</h1>
        <p>
        DIY singularity plastic hacker nodal point Chiba systema carbon network refrigerator knife otaku San Francisco. 
        </p>
        <p class="arrowBox"><a href="#" class="backward"><--</a><a href="#" class="forward">--></a></p>
      </div>
    <script type="text/javascript">
      window.onload = function(){
        document.addEventListener('keydown', function(ev){
          if(ev.keyCode === 39){
            forward();
          }
          if(ev.keyCode === 37){
            back()
          }
          });
        var b = document.getElementsByClassName('backward');
        for(var x = 0; x < b.length; x++){
          (function(x){
          b[x].addEventListener('click', function(e){
            e.preventDefault();
            back();
            });
          })(x);
        }
        var f = document.getElementsByClassName('forward');
        for(var x = 0; x < f.length; x++){
          (function(x){
          f[x].addEventListener('click', function(e){
            e.preventDefault();
            forward();
            });
          })(x);
        }
        l.addEventListener('click', lock);
      } 
      function forward(){
        if(curr < boxes.length-1){
          boxes[curr].style.opacity = "0";
          boxes[++curr].style.opacity = "1";
          backs.style.backgroundImage = "url(imgs/cat"+(curr+1).toString()+".jpg)"  
        }
      }
      function back(){
        if(curr > 0){
          boxes[curr].style.opacity = "0";
          boxes[--curr].style.opacity = "1";
          backs.style.backgroundImage = "url(imgs/cat"+(curr+1).toString()+".jpg)"  
        }
      }
      function lock(){
        for(var x = 0; x < boxes.length; x++){
          (function(x){
            boxes[x].classList.toggle('fixed');
           })(x);
        }
        l.innerHTML = l.innerHTML === "Or not." ? "We could also make them stationary." : "Or not.";
      }
      var boxes = document.getElementsByClassName('questBox');
      var backs = document.getElementsByTagName('body')[0];
      var l = document.getElementById('lock');
      var curr = 0;
    </script>
  </body>
</html>
