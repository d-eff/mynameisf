<!DOCTYPE html>
<html lang="en">
  <head>
    <title>like the net, but on the web.</title>
    <meta name="description" content="It's like the net, but on the world wide web!">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,200' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <div class="introBox">
      <h1><a href="/">David F</a></h1>
      <section id="carouselContainer">
        <div id="carousel">
          <h6 class="carouselText">makes things on the internet.</h6>
          <h6 class="carouselText">brother to the Pope of Chili Town.</h6>
          <h6 class="carouselText">once played a Wizard with 19 strength.</h6>
        </div>
      </section>
      <ul>
        <li>
        <a class="jumplink" href="#blog">Blog</a></li><li>
        <a class="jumplink" href="#work">Works</a></li><li>
        <a class="jumplink" href="#about">About</a></li>
      </ul>
    </div>

  <div id="bodyContainer">
    <div class="content active">
      Hey. Sorry this probably barely renders outside of chrome at the moment.
      <h5>Newest stuff</h5>
      <h6><a class="jumplink" href="#blog">Abusing the HTML5 History API</a><br>Or, how this site works at the moment.</h6>
    </div>    <!--BEGIN BLOG-->
  <div class="content" id="blog">
      <div class="post">
        <h5>Abusing the HTML5 History API</h5>
        <h6>March 2014</h6>
        <p>
          Everyone agrees <a href="http://en.wikipedia.org/wiki/Flash_of_unstyled_content">FOUC</a> is bad, but lately I've been opposed to any sort of visible flash while changing pages on a single domain (unless there's meant to be a context change). I'm not sure if this feeling is driven by some nostalgia for the animated-transition-laden flash sites of my youth, or in spite of them - either way, it's strange to me to still be loading whole new pages with 40% repeated content almost a decade after AJAX became a buzzword.
          </p>
          <p>AJAX was my first thought, but just loading in new content and popping it into parts of the page fails to update the url. I could update <span class="code">location.href</span>, but that forces a page load. We could update <span class="code">location.hash</span> - that doesn't force a reload - but that leaves an unsightly hash in the url, which gives it the feel of a jump anchor - which, in a way, it is, but that's not how I want to present it to users.</p>
          <p>
          Enter the HTML5 History API. The <span class="code">history</span> object stores state info for the pages you've visited in a given tab, and allows you to both navigate between states and push a new state (or replace the current one) - the trick here being that pushing/replacing a state updates the url in the browser to read however you want it to (after the hostname) without forcing a reload.  
          </p>
          <p>
          <span class="code">history.pushState</span> takes three arguments:
          </p>
          <ul>
            <li>A <span class="code">state</span> object, which can contain whatever data you want - including just being a string, if that's what you're into. Navigating between states fires a <span class="code">popstate</span> event that includes the state object, so depending on how you use the API and how much data you need to pass between states, this is a potential alternative to <span class="code">localStorage</span></li>
            <li>A <span class="code">title</span> object - the docs say it's looking for a string, but as far as I can tell this arg still isn't being used anywhere. All four major browsers (tested on Windows and Linux, at least) display the page's actual <span class="code">title</span> tag in the history.</li>
            <li>The <span class=code>URL</span> you want to use. It can be relative.</li>
          </ul>
      </div>
  </div>
    <!--END BLOG-->

      <!--BEGIN WORK SECTION-->
<div class="content" id="work">
<ul class="workList">
  <li><img src="/imgs/screenChat.jpg"><h6>Thesaurize</h6><p>An off-joke about needing to improve one's english turned into a silly chat room. My first node project bigger than 'hello world'.</p></li>
  <li><img src="/imgs/screenGA.jpg"><h6>GA Budget Thing</h6><p>D3 + Angular + Node. WIP.</p></li>
  <li><img src="/imgs/screenCats.jpg"><h6>Horoscope Cats</h6><p>Javascript, stolen cat images, and too many beers.</p></li>
</ul>
<ul class="workList">
  <li><img src="/imgs/screenFlour.jpg"><h6>Teresa Flour Lamb</h6><p>Portfolio site for a friend. She designed, I built. Fully responsive.</p></li>
  <li><img src="/imgs/screenSTT.jpg"><h6>South Tampa Title</h6><p>Site for a former employer. Totes responsivo. Also I wrote all the copy.</p></li>
  <li><img src="/imgs/screenMartin.jpg"><h6>Martineando punto com</h6><p>MAMI LLEGO TU PAPI CON EL FUNKETE, SACUDELO</p></li>
</ul>
<ul class="workList">
  <li><img src="http://placehold.it/250x155"><h6>Nathan Fernandez</h6><p></p></li>
  <li><img src="http://placehold.it/250x155"><p></p></li>
  <li><img src="http://placehold.it/250x155"><p>This is a thing</p></li>
  <li><img src="http://placehold.it/250x155"><p>This is a thing</p></li>
</ul>
</div>
<!--END WORK -->

<!--BEGIN ABOUT-->
<div id="about" class="content">
  <img src="imgs/headshot_sm.png" alt="this is my default face.">
<p>Web developer. Decent cook. Serious nerd.<br><br><a href="https://twitter.com/d_eff">follow me on twitter</a> (though I don't tweet much.)<br><br><a href="https://github.com/d-eff">check out my repos</a> (if that's your thing)</p></div>
<!--END ABOUT-->
<div id="404" class="content">
  <p>Sorry, can't find that. Hit me up, I guess. This whole site is a test bed, so I can't really promise anything will be around for more time than it takes me to break it.</p>
  <p>Insert a cool 404 game or something here, I guess.</p>
</div>
    </div>
    <!--END BODY CONTAINER-->
    <div id="footer">
      
    </div>
    <script src="/js/main.js" type="text/javascript"></script>

  </body>
</html>
